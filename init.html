<!DOCTYPE html>
<html>

<head>
  <title>Experiment</title>
  <!-- written on jsPsych Version 7.3.2 -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

  <!-- load CSS  -->
  <link href="https://unpkg.com/jspsych@7.3.2/css/jspsych.css" rel="stylesheet" type="text/css" />
  <link href="css/experimentStyle.css" rel="stylesheet" type="text/css"></link>
  

  <!-- load jsPsych library from CDN host  -->
  <script src="https://unpkg.com/jspsych@7.3.2"></script>

  <!-- load jsPsych plugins  -->
  <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.2"></script>
  <script src="https://unpkg.com/@jspsych/plugin-instructions@1.1.2"></script>
  <script src="https://unpkg.com/@jspsych/plugin-survey-text@1.1.2"></script>
  <script src="https://unpkg.com/@jspsych/plugin-survey-html-form@1.0.2"></script>
  <script src="https://unpkg.com/@jspsych/plugin-call-function@1.1.2"></script>
  <script src="https://unpkg.com/@jspsych/plugin-browser-check@1.0.2"></script>
  <script src="https://unpkg.com/@jspsych/plugin-external-html@1.1.3"></script>


  <!-- load external libraries  -->
  <script src="src/libraries/math/dist/math.js"></script>

  <!-- load workflow scripts  -->
  <script src="scripts/baseFunctions.js"></script>
  <script>loadScripts("scripts/", ["counterbalancing", "stimulusHelper", "instructionsReader", "functionalTrials"])</script>

  <!-- load experiment parameter  -->
  <script> loadScripts("input/", ["timelineBuilder", "blockBuilder", "counterbalancing_rules", "experiment_information", "stimulus_constructor"])</script>

  <!-- load Jatos library -->
  <script src="jatos.js"></script>

</head>

<body id="experimentSurface">
  <script>
    var skimMode = false;
    var skipToMain = false;

    var jsPsych = initJsPsych();
    var experimentTimeline = [];
     
    
    jatos.onLoad(() => {
      var experimentTimeline = timelineBuilder();
      for (let index = 0; index < experimentTimeline.length; index++) {
        if (!experimentTimeline[index].type) {
          console.log(experimentTimeline[index]);
        }
        
      }
      jsPsych.run(experimentTimeline);
    });
  </script>
</body>

</html>
